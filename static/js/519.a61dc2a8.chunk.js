"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[519],{9519:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var n=e(1413),i=e(5671),r=e(3144),o=e(136),u=e(5716),a=e(2791),l="ProfileInfo_descriptionBlock__ZdbCX",d=e(4980),c=e(885),p=e(184),f=function(t){var s=(0,a.useState)(!1),e=(0,c.Z)(s,2),n=e[0],i=e[1],r=(0,a.useState)(t.status),o=(0,c.Z)(r,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!n&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"-------"})}),n&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(u)},value:u})})]})},h=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:"https://bogatyr.club/uploads/posts/2023-02/1675444895_bogatyr-club-p-kirpichnaya-stena-raznotsvetnaya-fon-vkont-1.jpg"})}),(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("img",{src:s.photos.large}),(0,p.jsx)(f,{status:e,updateStatus:n})]})]}):(0,p.jsx)(d.p,{})},x=e(81),j="MyPosts_postsBlock__-eGWI",m="MyPosts_posts__hNejh",v="Post_item__q4dmU",g=function(t){return(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=e2b5f60e9ae39ff17bf9de1effba6a32352e9205-4825378-images-thumbs&n=13"}),t.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:[" Like: ",t.likesCount]})})]})},P=e(6139),b=e(704),_=e(3079),k=e(1117),S=(0,a.memo)((function(t){console.log("render");var s=t.posts.map((function(t){return(0,p.jsx)(g,{message:t.message,likesCount:t.likesCount},t.id)}));a.useRef(null);return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(Z,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,p.jsx)("div",{children:"New post"}),(0,p.jsx)("div",{className:m,children:s})]})})),y=(0,_.DT)(10),Z=(0,b.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,p.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(P.Z,{component:k.gx,name:"newPostText",validate:[_.C1,y],placeholder:"Post message"})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),C=e(8687),w=(0,C.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText,profile:t.profilePage.profile,status:t.profilePage.status}}),(function(t){return{addPost:function(s){t((0,x.Pi)(s))}}}))(S),N=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,p.jsx)(w,{})]})},A=e(9271),D=e(2932),I=e(7781),T=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;console.log(this.props.authorizedUserId),t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(N,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(a.Component),U=((0,D.D)(T),(0,I.qC)(D.D,(0,C.$j)((function(t){return console.log(t),{authorizedUserId:t.auth.id,isAuth:t.auth.isAuth,profile:t.profilePage.profile,status:t.profilePage.status}}),{getUserProfile:x.et,getStatus:x.lR,updateStatus:x.Nf}),A.EN)(T))},2932:function(t,s,e){e.d(s,{D:function(){return d}});var n=e(1413),i=e(5987),r=(e(2791),e(9271)),o=e(8687),u=e(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function d(t){return(0,o.$j)(l)((function(s){var e=s.isAuth,o=(0,i.Z)(s,a);return e?(0,u.jsx)(t,(0,n.Z)({},o)):(0,u.jsx)(r.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=519.a61dc2a8.chunk.js.map